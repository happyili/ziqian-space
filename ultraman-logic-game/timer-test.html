<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®šæ—¶å™¨æµ‹è¯• - å¥¥ç‰¹æ›¼é€»è¾‘æ¸¸æˆ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
        }
        .timer-display {
            font-size: 2em;
            font-weight: bold;
            text-align: center;
            margin: 20px 0;
        }
        .button {
            background: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .button:hover {
            background: #45a049;
        }
        .log {
            background: rgba(0,0,0,0.3);
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 0.9em;
            max-height: 200px;
            overflow-y: auto;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .status.success {
            background: rgba(76, 175, 80, 0.3);
        }
        .status.error {
            background: rgba(244, 67, 54, 0.3);
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ• å®šæ—¶å™¨æµ‹è¯•é¡µé¢</h1>
        <p>è¿™ä¸ªé¡µé¢ç”¨äºæµ‹è¯•ä¿®å¤åçš„å®šæ—¶å™¨é€»è¾‘ï¼Œç¡®ä¿é¢˜ç›®ä¸ä¼šæå‰åˆ·æ–°ã€‚</p>
        
        <div class="test-section">
            <h3>å½“å‰å®šæ—¶å™¨çŠ¶æ€</h3>
            <div class="timer-display" id="timer-display">30</div>
            <div class="status" id="timer-status">ç­‰å¾…å¼€å§‹</div>
        </div>
        
        <div class="test-section">
            <h3>æµ‹è¯•æ§åˆ¶</h3>
            <button class="button" onclick="startTimer()">å¼€å§‹å®šæ—¶å™¨</button>
            <button class="button" onclick="stopTimer()">åœæ­¢å®šæ—¶å™¨</button>
            <button class="button" onclick="simulateAnswer()">æ¨¡æ‹Ÿç­”é¢˜</button>
            <button class="button" onclick="simulateNextQuestion()">æ¨¡æ‹Ÿä¸‹ä¸€é¢˜</button>
            <button class="button" onclick="clearLog()">æ¸…ç©ºæ—¥å¿—</button>
        </div>
        
        <div class="test-section">
            <h3>æµ‹è¯•æ—¥å¿—</h3>
            <div class="log" id="test-log"></div>
        </div>
        
        <div class="test-section">
            <h3>ä¿®å¤è¯´æ˜</h3>
            <ul>
                <li>âœ… åˆå¹¶äº†é‡å¤çš„å®šæ—¶å™¨é€»è¾‘ï¼ˆstartTimer å’Œ startQuestionTimerï¼‰</li>
                <li>âœ… åœ¨ startTimer() å¼€å§‹æ—¶ç¡®ä¿æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨</li>
                <li>âœ… åœ¨ nextQuestion() ä¸­ç¡®ä¿æ¸…é™¤å½“å‰å®šæ—¶å™¨</li>
                <li>âœ… ä¿®æ”¹äº†æ—¶é—´é…ç½®ï¼Œä½¿ç”¨å•é¢˜æ—¶é—´é™åˆ¶ï¼ˆ30/25/20ç§’ï¼‰</li>
                <li>âœ… æ”¹è¿›äº†è¶…æ—¶å¤„ç†é€»è¾‘ï¼Œé¿å…é‡å¤è°ƒç”¨</li>
                <li>âœ… ç¡®ä¿å®šæ—¶å™¨åªåœ¨ç¿»è½¬å¡ç‰‡åå¯åŠ¨ï¼Œä¸åœ¨æ¸¸æˆå¼€å§‹æ—¶å¯åŠ¨</li>
            </ul>
        </div>
    </div>

    <script>
        // æ¨¡æ‹Ÿå®šæ—¶å™¨é€»è¾‘
        let timer = null;
        let timeRemaining = 30;
        let isRunning = false;
        
        function log(message) {
            const logElement = document.getElementById('test-log');
            const timestamp = new Date().toLocaleTimeString();
            logElement.innerHTML += `[${timestamp}] ${message}<br>`;
            logElement.scrollTop = logElement.scrollHeight;
            console.log(message);
        }
        
        function updateStatus(message, type = 'success') {
            const statusElement = document.getElementById('timer-status');
            statusElement.textContent = message;
            statusElement.className = `status ${type}`;
        }
        
        function updateTimerDisplay() {
            document.getElementById('timer-display').textContent = timeRemaining;
            
            // æ—¶é—´è­¦å‘Š
            if (timeRemaining <= 10) {
                document.getElementById('timer-display').style.color = '#ff4757';
            } else {
                document.getElementById('timer-display').style.color = '#ffd700';
            }
        }
        
        function startTimer() {
            // ç¡®ä¿æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨
            stopTimer();
            
            timeRemaining = 30; // ä½¿ç”¨é…ç½®ä¸­çš„å•é¢˜æ—¶é—´é™åˆ¶
            isRunning = true;
            updateTimerDisplay();
            updateStatus('å®šæ—¶å™¨è¿è¡Œä¸­', 'success');
            log('âœ… å¼€å§‹å®šæ—¶å™¨ - æ—¶é—´é™åˆ¶: 30ç§’');
            
            timer = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    timeUp();
                }
            }, 1000);
        }
        
        function stopTimer() {
            if (timer) {
                clearInterval(timer);
                timer = null;
                isRunning = false;
                log('â¹ï¸ å®šæ—¶å™¨å·²åœæ­¢');
            }
        }
        
        function timeUp() {
            log('â° é¢˜ç›®è¶…æ—¶ï¼');
            stopTimer();
            updateStatus('é¢˜ç›®è¶…æ—¶', 'error');
            
            // æ¨¡æ‹Ÿè¶…æ—¶åçš„å¤„ç†
            setTimeout(() => {
                log('ğŸ”„ å‡†å¤‡è¿›å…¥ä¸‹ä¸€é¢˜...');
                updateStatus('å‡†å¤‡ä¸‹ä¸€é¢˜', 'success');
            }, 2000);
        }
        
        function simulateAnswer() {
            if (!isRunning) {
                log('âŒ å®šæ—¶å™¨æœªè¿è¡Œï¼Œæ— æ³•æ¨¡æ‹Ÿç­”é¢˜');
                return;
            }
            
            const timeSpent = 30 - timeRemaining;
            log(`âœ… æ¨¡æ‹Ÿç­”é¢˜ - ç”¨æ—¶: ${timeSpent}ç§’`);
            stopTimer();
            updateStatus('ç­”é¢˜å®Œæˆ', 'success');
            
            // æ¨¡æ‹Ÿç­”é¢˜åçš„å¤„ç†
            setTimeout(() => {
                log('ğŸ”„ å‡†å¤‡è¿›å…¥ä¸‹ä¸€é¢˜...');
                updateStatus('å‡†å¤‡ä¸‹ä¸€é¢˜', 'success');
            }, 2000);
        }
        
        function simulateNextQuestion() {
            log('ğŸ”„ æ¨¡æ‹Ÿè¿›å…¥ä¸‹ä¸€é¢˜');
            stopTimer(); // ç¡®ä¿æ¸…é™¤å½“å‰å®šæ—¶å™¨
            timeRemaining = 30;
            updateTimerDisplay();
            updateStatus('ç­‰å¾…å¼€å§‹ä¸‹ä¸€é¢˜', 'success');
            log('âœ… å·²æ¸…é™¤å®šæ—¶å™¨ï¼Œç­‰å¾…ç”¨æˆ·ç¿»è½¬å¡ç‰‡');
        }
        
        function clearLog() {
            document.getElementById('test-log').innerHTML = '';
            log('ğŸ“ æ—¥å¿—å·²æ¸…ç©º');
        }
        
        // åˆå§‹åŒ–
        updateTimerDisplay();
        log('ğŸš€ å®šæ—¶å™¨æµ‹è¯•é¡µé¢å·²åŠ è½½');
        log('ğŸ’¡ æµ‹è¯•æ­¥éª¤: 1.å¼€å§‹å®šæ—¶å™¨ 2.æ¨¡æ‹Ÿç­”é¢˜æˆ–ç­‰å¾…è¶…æ—¶ 3.æ¨¡æ‹Ÿä¸‹ä¸€é¢˜ 4.é‡å¤æµ‹è¯•');
    </script>
</body>
</html>
